<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Game</title>
    <style>
        body {
            margin: 0;
            overflow: hidden; /* Prevent scrolling */
            background-color: #1a1a1a; /* Dark background */
            color: #00ffcc; /* Bright text */
            font-family: 'Arial', sans-serif;
        }
        #gameCanvas {
            position: absolute;
            top: 50px; /* Adjust position below the navigation bar */
            left: 0;
            width: 100%;
            height: 500px; /* Set a fixed height for the game area */
            background: url('background.jpg') repeat; /* Background scrolling */
        }
        #spaceship {
            position: absolute;
            bottom: 20px; /* Keep it above the bottom */
            left: 100px; /* Initial position */
            width: 50px; /* Size of the spaceship */
            height: auto;
        }
        .obstacle {
            position: absolute;
            width: 50px; /* Size of the planet/asteroid */
            height: auto;
        }
    </style>
</head>
<body>
    <div id="gameCanvas"></div>
    <img id="spaceship" src="spaceship.png" alt="Spaceship">
    <audio id="jumpSound" src="jump-sound.mp3" preload="auto"></audio>
    <audio id="startSound" src="start-sound.mp3" preload="auto"></audio>

    <script>
        const gameCanvas = document.getElementById('gameCanvas');
        const spaceship = document.getElementById('spaceship');
        const jumpSound = document.getElementById('jumpSound');
        const startSound = document.getElementById('startSound');

        let obstacles = [];
        let score = 0;
        let gameRunning = false;
        let gameInterval;

        function startGame() {
            startSound.play();
            gameRunning = true;
            score = 0;
            obstacles = [];
            gameCanvas.innerHTML = ""; // Clear previous obstacles
            spaceship.style.bottom = '20px'; // Reset spaceship position

            // Start moving the background
            gameInterval = setInterval(updateGameArea, 20);
            createObstacle();
        }

        function updateGameArea() {
            // Move obstacles left
            obstacles.forEach(obstacle => {
                obstacle.style.left = (parseInt(obstacle.style.left) - 5) + 'px';
                if (parseInt(obstacle.style.left) < -50) {
                    obstacle.remove(); // Remove off-screen obstacles
                    score++;
                }
            });

            // Create new obstacles every 2 seconds
            if (Math.random() < 0.02) {
                createObstacle();
            }

            // Check for collision
            checkCollision();
        }

        function createObstacle() {
            const obstacle = document.createElement('img');
            obstacle.src = Math.random() < 0.5 ? 'planet.png' : 'asteroid.png'; // Randomly choose planet or asteroid
            obstacle.classList.add('obstacle');
            obstacle.style.left = '800px'; // Start on the right side
            obstacle.style.bottom = Math.random() * 300 + 'px'; // Random height
            gameCanvas.appendChild(obstacle);
            obstacles.push(obstacle);
        }

        function checkCollision() {
            const spaceshipRect = spaceship.getBoundingClientRect();
            obstacles.forEach(obstacle => {
                const obstacleRect = obstacle.getBoundingClientRect();
                if (spaceshipRect.left < obstacleRect.right && 
                    spaceshipRect.right > obstacleRect.left &&
                    spaceshipRect.top < obstacleRect.bottom &&
                    spaceshipRect.bottom > obstacleRect.top) {
                    endGame();
                }
            });
        }

        function endGame() {
            clearInterval(gameInterval);
            alert("Game Over! Your score: " + score);
            gameRunning = false;
            obstacles.forEach(obstacle => obstacle.remove());
        }

        // Key controls for jumping
        document.addEventListener('keydown', function (event) {
            if (event.code === 'Space' && gameRunning) {
                jump();
            }
        });

        function jump() {
            jumpSound.play();
            let jumpHeight = 0;
            let jumpInterval = setInterval(() => {
                if (jumpHeight < 100) {
                    spaceship.style.bottom = (parseInt(spaceship.style.bottom) + 5) + 'px'; // Jump up
                    jumpHeight += 5;
                } else {
                    clearInterval(jumpInterval);
                    fall();
                }
            }, 20);
        }

        function fall() {
            let fallHeight = 100;
            let fallInterval = setInterval(() => {
                if (fallHeight > 0) {
                    spaceship.style.bottom = (parseInt(spaceship.style.bottom) - 5) + 'px'; // Fall down
                    fallHeight -= 5;
                } else {
                    clearInterval(fallInterval);
                }
            }, 20);
        }

        // Start the game when the page loads
        window.onload = function() {
            startGame();
        };
    </script>
</body>
</html>
